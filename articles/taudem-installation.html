<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="traudem">
<title>Install TauDEM • traudem</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Install TauDEM">
<meta property="og:description" content="traudem">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">traudem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/traudem.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/taudem-installation.html">Install TauDEM</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lucarraro/traudem/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Install TauDEM</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lucarraro/traudem/blob/HEAD/vignettes/taudem-installation.Rmd" class="external-link"><code>vignettes/taudem-installation.Rmd</code></a></small>
      <div class="d-none name"><code>taudem-installation.Rmd</code></div>
    </div>

    
    
<p>Installing TauDEM actually means installing 3 tools:</p>
<ul>
<li>GDAL that TauDEM uses under the hood;</li>
<li>MPI that R will call to launch TauDEM;</li>
<li>TauDEM itself.</li>
</ul>
<p>Please follow instructions on how to install TauDEM, GDAL and MPI
depending on your operating system, then finalize your installation as
specified below.</p>
<p>No matter your operating system, <strong>take note of the steps you
follow</strong>. This way, if anything goes wrong, you will be able to
open an informative bug report and get help more easily.</p>
<div class="section level2">
<h2 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h2>
<p>You’re in luck! The TauDEM Windows installer will install all three
tools at once! Refer to <a href="https://hydrology.usu.edu/taudem/taudem5/downloads.html" class="external-link uri">https://hydrology.usu.edu/taudem/taudem5/downloads.html</a>.</p>
</div>
<div class="section level2">
<h2 id="macos">macOS<a class="anchor" aria-label="anchor" href="#macos"></a>
</h2>
<p>To install the dependencies, <a href="https://brew.sh" class="external-link">Homebrew</a>
is recommended. It is a package manager, similar to APT on Linux
systems.</p>
<ol style="list-style-type: decimal">
<li><p>Open a terminal.</p></li>
<li><p>Download and install GDAL, MPICH and CMake:
<code>sh     brew install gdal mpich cmake</code></p></li>
<li><p>Go to the <a href="https://github.com/dtarb/TauDEM" class="external-link">Github page
of TauDEM</a> and download the code as ZIP</p></li>
<li><p>Extract it and move the folder <code>TauDEM-Develop</code> to a
convenient place, e.g.:
<code>sh     /Users/$USER/Documents/TauDEM</code></p></li>
<li><p>Go back to the terminal and go into the directory with:
<code>sh     cd /Users/$USER/Documents/TauDEM/TauDEM-Develop</code></p></li>
<li><p>Create a folder where the executables will be installed in:
<code>sh     mkdir bin</code></p></li>
<li><p>Go into the source folder <code>src</code>:
<code>sh     cd src</code></p></li>
<li><p>Create the <code>build</code> directory: and go into with:
<code>sh     mkdir build</code></p></li>
<li><p>Go into the <code>build</code> directory:
<code>sh     cd build</code></p></li>
<li><p>Build with <code>cmake ..</code></p></li>
<li><p>Finalize with:</p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">make</span> <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> make install</span></code></pre></div>
<p>The executable files will end up in
<code>/usr/local/taudem/</code>.</p>
<ol start="12" style="list-style-type: decimal">
<li>
<p>Add the location of the executable files to your path environment
variable. This is a bit tricky on macOS, since RStudio and the package
only see the path added to <code>/etc/paths.d/</code>. So add it<br>
with the following two commands:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"/usr/local/taudem/"</span> <span class="op">&gt;</span> taudem</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">sudo</span> mv taudem /etc/paths.d/</span></code></pre></div>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="linux">Linux<a class="anchor" aria-label="anchor" href="#linux"></a>
</h2>
<div class="section level3">
<h3 id="gdal">GDAL<a class="anchor" aria-label="anchor" href="#gdal"></a>
</h3>
<p>Do you need to install GDAL? In a terminal try
<code>gdalinfo --version</code>, if it fails
<code>gdal-config --version</code>. If it works and return something you
do not need to install GDAL unless you want a newer version. You might
have installed GDAL in the past for, say, using the sf R package.</p>
<p>If you need to, install GDAL using the official <a href="https://gdal.org/download.html" class="external-link">GDAL docs</a> (or refer to <a href="https://github.com/dtarb/TauDEM/" class="external-link">TauDEM README</a> for further
suggestions).</p>
</div>
<div class="section level3">
<h3 id="mpi">MPI<a class="anchor" aria-label="anchor" href="#mpi"></a>
</h3>
<p>First try running <code>mpiexec --version</code> in a terminal. If it
works and returns something, you do not need to install MPI unless you
want a newer version.</p>
<p>If you need to, install MPI using the official <a href="https://www.open-mpi.org/software/ompi/v4.1/" class="external-link">MPI docs</a> (or
refer to <a href="https://github.com/dtarb/TauDEM/" class="external-link">TauDEM README</a>
for further suggestions).</p>
</div>
<div class="section level3">
<h3 id="taudem">TauDEM<a class="anchor" aria-label="anchor" href="#taudem"></a>
</h3>
<p>First you need to obtain TauDEM source for GitHub <a href="https://github.com/dtarb/TauDEM/" class="external-link uri">https://github.com/dtarb/TauDEM/</a>. If you are at ease
with this, you can clone the repository. If not, find the green button
that allows you to clone, open (with GitHub CLI) or download, and
download the ZIP version.</p>
<p>We recommend using CMake because that is what we did but <a href="https://github.com/dtarb/TauDEM/" class="external-link">TauDEM README</a> also has a
method using Make. Therefore,</p>
<ul>
<li>install CMake or Make (check it’s not already installed);</li>
<li>follow <a href="https://github.com/dtarb/TauDEM/" class="external-link">TauDEM README</a>
for further suggestions) for either CMake or Make depending on what you
decided to use.</li>
</ul>
<blockquote>
<p>If the installation shows errors, try using <a href="https://github.com/maelle/TauDEM/tree/more-mpi-deprecations" class="external-link uri">https://github.com/maelle/TauDEM/tree/more-mpi-deprecations</a>
instead.</p>
</blockquote>
<blockquote>
<p>Even for a successful installation you might see many warnings.</p>
</blockquote>
<p>In particular, the following error has been observed in some
systems:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">linklib.h:</span> In function ‘bool sendLink<span class="er">(</span><span class="ex">int32_t,</span> int<span class="kw">)</span><span class="ex">’:</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">linklib.h:281:9:</span> error: ‘MPI_Type_extent’ was not declared in this scope<span class="kw">;</span> <span class="ex">did</span> you mean ‘MPI_Type_get_extent’<span class="pp">?</span></span></code></pre></div>
<p>In such a case, execute the following commands on the terminal:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">mkdir</span> bin</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="bu">cd</span> src</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-i</span> <span class="at">-e</span> <span class="st">'s/MPI_Type_struct/MPI_Type_create_struct/g'</span> linklib.h</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-i</span> <span class="at">-e</span> <span class="st">'s/MPI_Type_extent(MPI_LONG, \&amp;extent)/MPI_Aint lb\;MPI_Type_get_extent(MPI_LONG, \&amp;lb, \&amp;extent)/g'</span> linklib.h</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">make</span></span></code></pre></div>
<p>See also <a href="https://github.com/lucarraro/traudem/issues/48#issue-2109770271" class="external-link uri">https://github.com/lucarraro/traudem/issues/48#issue-2109770271</a>
for details.</p>
</div>
</div>
<div class="section level2">
<h2 id="finalize-your-installation">Finalize your installation<a class="anchor" aria-label="anchor" href="#finalize-your-installation"></a>
</h2>
<p>Once you are done, you need to register TauDEM in R and check your
installation.</p>
<div class="section level3">
<h3 id="register-taudem-in-r">Register TauDEM in R<a class="anchor" aria-label="anchor" href="#register-taudem-in-r"></a>
</h3>
<div class="section level4">
<h4 id="add-taudem-to-the-path">Add TauDEM to the PATH<a class="anchor" aria-label="anchor" href="#add-taudem-to-the-path"></a>
</h4>
<ul>
<li>The Windows installer might have done this automatically.</li>
<li>For other operating systems (macOS, Linux) use your usual method to
add a directory to the PATH.</li>
</ul>
</div>
<div class="section level4">
<h4 id="or-add-an-environmental-variable">OR add an environmental variable<a class="anchor" aria-label="anchor" href="#or-add-an-environmental-variable"></a>
</h4>
<p>Add an R environmental variable called <code>TAUDEM_PATH</code> that
points to the location where the TauDEM executables can be found (on
Windows it might be <code>C:\Program Files\TauDEM</code>, on Ubuntu
<code>/usr/local/taudem</code>).</p>
<p>For instance on Ubuntu it could be adding this line in
<code>.Renviron</code> (see <code><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">usethis::edit_r_environ()</a></code>) and
then re-starting R:</p>
<pre><code><span><span class="va">TAUDEM_PATH</span><span class="op">=</span><span class="st">'/usr/local/taudem'</span></span></code></pre>
<p>or, for just the session, running this line of R code:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>TAUDEM_PATH <span class="op">=</span> <span class="st">"/usr/local/taudem"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="check-your-installation">Check your installation<a class="anchor" aria-label="anchor" href="#check-your-installation"></a>
</h3>
<p>Run <code><a href="../reference/taudem_sitrep.html">traudem::taudem_sitrep()</a></code> and read its output
carefully. Pay attention to any error that might indicate part of the
installation was not successful.</p>
<p>If all is well (no error, only normal output from TauDEM),
congratulations! Your system is ready to apply TauDEM to your own
data.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luca Carraro, University of Zurich, Maëlle Salmon, Wael Sadek, Kirill Müller.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
